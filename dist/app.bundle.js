!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(1),n(6);var i=function(e,t,n){document.getElementById(n).innerHTML+=`<div class="key key__${t.id}" id=${t.id}>${t[e]}</div>`};var r=function(e,t,n){document.getElementById(n).innerHTML="",t.forEach(t=>{i(e,t,n)})};var d=[{id:"`",code:"Backquote",ru:"ё",en:"`",ruShift:"Ё",enShift:"~"},{id:"1",code:"Digit1",ru:"1",en:"1",ruShift:"!",enShift:"!"},{id:"2",code:"Digit2",ru:"2",en:"2",ruShift:"&#34",enShift:"@"},{id:"3",code:"Digit3",ru:"3",en:"3",ruShift:"№",enShift:"#"},{id:"4",code:"Digit4",ru:"4",en:"4",ruShift:";",enShift:"$"},{id:"5",code:"Digit5",ru:"5",en:"5",ruShift:"%",enShift:"%"},{id:"6",code:"Digit6",ru:"6",en:"6",ruShift:":",enShift:"^"},{id:"7",code:"Digit7",ru:"7",en:"7",ruShift:"?",enShift:"&"},{id:"8",code:"Digit8",ru:"8",en:"8",ruShift:"*",enShift:"*"},{id:"9",code:"Digit9",ru:"9",en:"9",ruShift:"(",enShift:"("},{id:"0",code:"Digit0",ru:"0",en:"0",ruShift:")",enShift:")"},{id:"-",code:"Minus",ru:"-",en:"-",ruShift:"_",enShift:"_"},{id:"=",code:"Equal",ru:"=",en:"=",ruShift:"+",enShift:"+"},{id:"Backspace",code:"Backspace",ru:"backspace",en:"backspace",ruShift:"backspace",enShift:"backspace"},{id:"tab",code:"Tab",ru:"↹",en:"↹",ruShift:"↹",enShift:"↹"},{id:"q",code:"KeyQ",ru:"й",en:"q",ruShift:"Й",enShift:"Q"},{id:"w",code:"KeyW",ru:"ц",en:"w",ruShift:"Ц",enShift:"W"},{id:"e",code:"KeyE",ru:"у",en:"e",ruShift:"У",enShift:"E"},{id:"r",code:"KeyR",ru:"к",en:"r",ruShift:"К",enShift:"R"},{id:"t",code:"KeyT",ru:"е",en:"t",ruShift:"Е",enShift:"T"},{id:"y",code:"KeyY",ru:"н",en:"y",ruShift:"Н",enShift:"Y"},{id:"u",code:"KeyU",ru:"г",en:"u",ruShift:"Г",enShift:"U"},{id:"i",code:"KeyI",ru:"ш",en:"i",ruShift:"Ш",enShift:"I"},{id:"o",code:"KeyO",ru:"щ",en:"o",ruShift:"Щ",enShift:"O"},{id:"p",code:"KeyP",ru:"з",en:"p",ruShift:"З",enShift:"P"},{id:"[",code:"BracketLeft",ru:"х",en:"[",ruShift:"Х",enShift:"{"},{id:"]",code:"BracketRight",ru:"ъ",en:"]",ruShift:"Ъ",enShift:"}"},{id:"|",code:"Backslash",ru:"&#92",en:"&#92",ruShift:"/",enShift:"|"},{id:"capslock",code:"CapsLock",ru:"capslock",en:"capslock",ruShift:"capslock",enShift:"capslock"},{id:"a",code:"KeyA",ru:"ф",en:"a",ruShift:"Ф",enShift:"A"},{id:"s",code:"KeyS",ru:"ы",en:"s",ruShift:"Ы",enShift:"S"},{id:"d",code:"KeyD",ru:"в",en:"d",ruShift:"В",enShift:"D"},{id:"f",code:"KeyF",ru:"а",en:"f",ruShift:"А",enShift:"F"},{id:"g",code:"KeyG",ru:"п",en:"g",ruShift:"П",enShift:"G"},{id:"h",code:"KeyH",ru:"р",en:"h",ruShift:"Р",enShift:"H"},{id:"j",code:"KeyJ",ru:"о",en:"j",ruShift:"О",enShift:"J"},{id:"k",code:"KeyK",ru:"л",en:"k",ruShift:"Л",enShift:"K"},{id:"l",code:"KeyL",ru:"д",en:"l",ruShift:"Д",enShift:"L"},{id:";",code:"Semicolon",ru:"ж",en:";",ruShift:"Ж",enShift:":"},{id:"'",code:"Quote",ru:"э",en:"'",ruShift:"Э",enShift:"&#34"},{id:"enter",code:"Enter",ru:"enter",en:"enter",ruShift:"enter",enShift:"enter"},{id:"ShiftLeft",code:"ShiftLeft",ru:"shift",en:"shift",ruShift:"shift",enShift:"shift"},{id:"z",code:"KeyZ",ru:"я",en:"z",ruShift:"Я",enShift:"Z"},{id:"x",code:"KeyX",ru:"ч",en:"x",ruShift:"Ч",enShift:"X"},{id:"c",code:"KeyC",ru:"с",en:"c",ruShift:"С",enShift:"C"},{id:"v",code:"KeyV",ru:"м",en:"v",ruShift:"М",enShift:"V"},{id:"b",code:"KeyB",ru:"и",en:"b",ruShift:"И",enShift:"B"},{id:"n",code:"KeyN",ru:"т",en:"n",ruShift:"Т",enShift:"N"},{id:"m",code:"KeyM",ru:"ь",en:"m",ruShift:"Ь",enShift:"M"},{id:",",code:"Comma",ru:"б",en:",",ruShift:"Б",enShift:"<"},{id:".",code:"Period",ru:"ю",en:".",ruShift:"Ю",enShift:">"},{id:"/",code:"Slash",ru:".",en:"/",ruShift:",",enShift:"?"},{id:"↑ ",code:"ArrowUp",ru:"↑",en:"↑",ruShift:"↑",enShift:"↑"},{id:"ShiftRight",code:"ShiftRight",ru:"shift",en:"shift",ruShift:"shift",enShift:"shift"},{id:"ControlLeft",code:"ControlLeft",ru:"ctrl",en:"ctrl",ruShift:"ctrl",enShift:"ctrl"},{id:"win",code:"win",ru:"win",en:"win",ruShift:"win",enShift:"win"},{id:"leftAlt",code:"AltLeft",ru:"alt",en:"alt",ruShift:"alt",enShift:"alt"},{id:"space",code:"Space",ru:"space",en:"space",ruShift:"space",enShift:"space"},{id:"rightAlt",code:"AltRight",ru:"alt",en:"alt",ruShift:"alt",enShift:"alt"},{id:"ControlRight",code:"ControlRight",ru:"ctrl",en:"ctrl",ruShift:"ctrl",enShift:"ctrl"},{id:"← ",code:"ArrowLeft",ru:"←",en:"←",ruShift:"←",enShift:"←"},{id:"↓ ",code:"ArrowDown",ru:"↓",en:"↓",ruShift:"↓",enShift:"↓"},{id:"→ ",code:"ArrowRight",ru:"→",en:"→",ruShift:"→",enShift:"→"}];const o={language:"en",uppercase:!1,keyboardType(){const{language:e,uppercase:t}=this;return`${e}${!0===t?"Shift":""}`},changeLanguage(){"en"===this.language?this.language="ru":this.language="en"},changeUppercase(){this.uppercase=!this.uppercase},renderState(e){document.getElementById(e).innerHTML=`\n    <div class="keyboardState" id="keyboardState">\n    language:${o.language}, uppercase: ${o.uppercase}.<br>\n    Переключение -- ctrl + shift<br>\n    Специально сбрасываю alt, shift, ctrl, ибо не логично начинать с нажатыми\n    Клавиатура сохранит язык ввода (независимо от языка установленного в ОС)<br>\n    Клавиатура сохранит регистр при перезагрузке (для удобства CapsLock оставляю подсвеченным)<br></div>`,this.saveKeyboardType()},renderKeyboard(e=this.keyboardType()){const t=[];document.querySelectorAll(".key__pressed").forEach(e=>t.push(e.id)),r(e,d,"keyboard"),t.forEach(e=>{document.getElementById(e).classList.add("key__pressed")})},saveKeyboardType(){const{language:e,uppercase:t}=this;localStorage.setItem("keyboardType",JSON.stringify({language:e,uppercase:t}))},loadKeyboardType(){if(localStorage.getItem("keyboardType")){const{language:e,uppercase:t}=JSON.parse(localStorage.getItem("keyboardType"));this.language=e||this.language,this.uppercase=t||this.uppercase,r(this.keyboardType(),d,"keyboard"),!0===this.uppercase&&document.getElementById("capslock").classList.add("key__pressed")}}};var s=o;function c(e){const t=document.getElementById(e).classList;t.contains("key__pressed")?t.remove("key__pressed"):t.add("key__pressed")}function a(){s.changeUppercase(),s.renderState("keyboardState")}function u(){s.changeLanguage(),s.renderState("keyboardState")}var f=function(){document.getElementById("keyboard").addEventListener("click",e=>{const{id:t,classList:n}=e.target,i="enter"===t||"Backspace"===t||"tab"===t||"space"===t||"win"===t||"↑ "===t||"← "===t||"↓ "===t||"→ "===t;(1===t.length||i)&&(n.add("key__pressed"),setTimeout(()=>{n.remove("key__pressed")},500))}),document.getElementById("keyboard").addEventListener("click",({target:e})=>{1===e.id.length&&(document.getElementById("textarea").value+=e.innerText)}),function(){const e=document.getElementById("textarea");document.getElementById("keyboard").addEventListener("click",({target:{id:t}})=>{if("space"===t&&(e.value+=" "),"enter"===t&&(e.value+="\n"),"Backspace"===t&&(e.value=e.value.slice(0,e.value.length-1)),"tab"===t&&(e.value+="\t"),"win"===t&&(e.value+="Что должно произойти?"),"capslock"===t&&(c(t),a(),s.renderKeyboard()),"ShiftLeft"===t){const e=document.getElementById("ShiftRight").classList.contains("key__pressed"),n=document.getElementById("ControlLeft").classList.contains("key__pressed"),i=document.getElementById("ControlRight").classList.contains("key__pressed");if(c(t),e)return void c("ShiftRight");if(n)return u(),c(t),c("ControlLeft"),void s.renderKeyboard();if(i)return u(),c(t),c("ControlRight"),void s.renderKeyboard();a(),s.renderKeyboard()}if("ShiftRight"===t){const e=document.getElementById("ShiftLeft").classList.contains("key__pressed"),n=document.getElementById("ControlLeft").classList.contains("key__pressed"),i=document.getElementById("ControlRight").classList.contains("key__pressed");if(c(t),e)return void c("ShiftLeft");if(n)return u(),c(t),c("ControlLeft"),void s.renderKeyboard();if(i)return u(),c(t),c("ControlRight"),void s.renderKeyboard();a(),s.renderKeyboard()}if("ControlLeft"===t){const e=document.getElementById("ControlRight").classList.contains("key__pressed"),n=document.getElementById("ShiftLeft").classList.contains("key__pressed"),i=document.getElementById("ShiftRight").classList.contains("key__pressed");c(t),e&&c("ControlRight"),n&&(u(),a(),c(t),c("ShiftLeft"),s.renderKeyboard()),i&&(u(),a(),c(t),c("ShiftRight"),s.renderKeyboard())}if("ControlRight"===t){const e=document.getElementById("ControlLeft").classList.contains("key__pressed"),n=document.getElementById("ShiftLeft").classList.contains("key__pressed"),i=document.getElementById("ShiftRight").classList.contains("key__pressed");c(t),e&&c("ControlLeft"),n&&(u(),u(),c(t),c("ShiftLeft"),s.renderKeyboard()),i&&(u(),u(),c(t),c("ShiftRight"),s.renderKeyboard())}if("leftAlt"===t){const e=document.getElementById("rightAlt").classList.contains("key__pressed");c(t),e&&c("rightAlt")}if("rightAlt"===t){const e=document.getElementById("leftAlt").classList.contains("key__pressed");c(t),e&&c("leftAlt")}})}()};function l(e){const t=document.getElementById(e).classList;t.contains("key__pressed")?t.remove("key__pressed"):t.add("key__pressed")}function h(){s.changeUppercase(),s.renderState("keyboardState")}function y(){s.changeLanguage(),s.renderState("keyboardState")}var S=function(){document.addEventListener("keydown",({code:e})=>{const{id:t}=d.find(t=>t.code===e);!function(e){const t=document.getElementById(e),n="enter"===e||"Backspace"===e||"tab"===e||"space"===e||"win"===e||("↑ "===e||"← "===e||"↓ "===e||"→ "===e);(1===e.length||n)&&(t.classList.add("key__pressed"),setTimeout(()=>{t.classList.remove("key__pressed")},500))}(t),function(e){const t=1===e.length,n=document.getElementById("textarea");t&&(n.value+=document.getElementById(e).innerText),t&&n===document.activeElement&&(n.value=n.value.slice(0,n.value.length-1))}(t),function(e){const t=document.getElementById("textarea");if("space"===e&&(t.value+=" "),"enter"===e&&(t.value+="\n"),"Backspace"===e){if(t===document.activeElement)return;t.value=t.value.slice(0,t.value.length-1)}if("tab"===e&&(t.value+="\t"),"win"===e&&(t.value+="Что должно произойти?"),"capslock"===e&&(l(e),h(),s.renderKeyboard()),"ShiftLeft"===e){const t=document.getElementById("ShiftRight").classList.contains("key__pressed"),n=document.getElementById("ControlLeft").classList.contains("key__pressed"),i=document.getElementById("ControlRight").classList.contains("key__pressed");if(l(e),t)return void l("ShiftRight");if(n)return y(),l(e),l("ControlLeft"),void s.renderKeyboard();if(i)return y(),l(e),l("ControlRight"),void s.renderKeyboard();h(),s.renderKeyboard()}if("ShiftRight"===e){const t=document.getElementById("ShiftLeft").classList.contains("key__pressed"),n=document.getElementById("ControlLeft").classList.contains("key__pressed"),i=document.getElementById("ControlRight").classList.contains("key__pressed");if(l(e),t)return void l("ShiftLeft");if(n)return y(),l(e),l("ControlLeft"),void s.renderKeyboard();if(i)return y(),l(e),l("ControlRight"),void s.renderKeyboard();h(),s.renderKeyboard()}if("ControlLeft"===e){const t=document.getElementById("ControlRight").classList.contains("key__pressed"),n=document.getElementById("ShiftLeft").classList.contains("key__pressed"),i=document.getElementById("ShiftRight").classList.contains("key__pressed");l(e),t&&l("ControlRight"),n&&(y(),h(),l(e),l("ShiftLeft"),s.renderKeyboard()),i&&(y(),h(),l(e),l("ShiftRight"),s.renderKeyboard())}if("ControlRight"===e){const t=document.getElementById("ControlLeft").classList.contains("key__pressed"),n=document.getElementById("ShiftLeft").classList.contains("key__pressed"),i=document.getElementById("ShiftRight").classList.contains("key__pressed");l(e),t&&l("ControlLeft"),n&&(y(),y(),l(e),l("ShiftLeft"),s.renderKeyboard()),i&&(y(),y(),l(e),l("ShiftRight"),s.renderKeyboard())}if("leftAlt"===e){const t=document.getElementById("rightAlt").classList.contains("key__pressed");l(e),t&&l("rightAlt")}if("rightAlt"===e){const t=document.getElementById("leftAlt").classList.contains("key__pressed");l(e),t&&l("leftAlt")}}(t)})};document.body.innerHTML=`\n  <div id="input--field" class="input--field">\n    <div class="keyboardState" id="keyboardState">language:${s.language}, uppercase: ${s.uppercase}. Переключение -- ctrl + shift</div>\n    <textarea class="textarea" id="textarea"></textarea>\n  </div>\n  <div id="keyboard" class="keyboard"></div>\n  ${document.body.innerHTML}`,s.loadKeyboardType(),s.renderState("keyboardState"),s.renderKeyboard(),f(),S()},function(e,t){},,,,,function(e,t){}]);
//# sourceMappingURL=app.bundle.js.map