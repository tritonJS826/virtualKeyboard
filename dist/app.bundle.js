!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var i=function(){const e=document.createElement("style");e.innerHTML="\n\n  body {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    padding-top: 100px;\n    transition: all 0.5s;\n  }\n\n  * {\n    transition: all 0.5s;\n  }\n\n  .input--field {\n    width:700px;\n  }\n\n  .textarea {\n    width: 99%;\n    height: 250px;\n    background: black;\n    color:white;\n    font-size: 20pt;\n  }\n\n  .keyboard {\n    display: flex;\n    width: 700px;\n    flex-wrap:wrap;\n    justify-content:space-between;\n    background:darkgrey;\n  }\n\n  .key {\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    background: black;\n    color:white;\n    height: 30px;\n    margin: 2px;\n    min-width:41px;\n    border-radius:3px;\n  }\n\n  .enter {\n    min-width: 90px;\n  }\n\n  .shift {\n    min-width:100px;\n  }\n  .space {\n    min-width:310px;\n  }\n\n  .ShiftLeft {\n    min-width: 115px;\n  }\n\n  .pressed {\n    background: orange;\n  }\n  @keyframes onpress {\n  from {\n    background:orange;\n  }\n\n  to {\n    background:black;\n  }\n}\n\n\n  ",document.head.appendChild(e)};var r=function(e,t,n){"ru"===e&&(document.getElementById(n).innerHTML="",t.forEach(e=>{!function(e,t){document.getElementById(t).innerHTML+=`<div class="${e.id} key" id=${e.id}>${e.ru}</div>`}(e,n)})),"en"===e&&(document.getElementById(n).innerHTML="",t.forEach(e=>{!function(e,t){document.getElementById(t).innerHTML+=`<div class="${e.id} key" id="${e.id}">${e.en}</div>`}(e,n)})),"ruShift"===e&&(document.getElementById(n).innerHTML="",t.forEach(e=>{!function(e,t){document.getElementById(t).innerHTML+=`<div class="${e.id} key" id="${e.id}">${e.ruShift}</div>`}(e,n)})),"enShift"===e&&(document.getElementById(n).innerHTML="",t.forEach(e=>{!function(e,t){document.getElementById(t).innerHTML+=`<div class="${e.id} key" id="${e.id}">${e.enShift}</div>`}(e,n)}))};var d=[{id:"`",code:"Backquote",ru:"ё",en:"`",ruShift:"Ё",enShift:"~"},{id:"1",code:"Digit1",ru:"1",en:"1",ruShift:"!",enShift:"!"},{id:"2",code:"Digit2",ru:"2",en:"2",ruShift:"&#34",enShift:"@"},{id:"3",code:"Digit3",ru:"3",en:"3",ruShift:"№",enShift:"#"},{id:"4",code:"Digit4",ru:"4",en:"4",ruShift:";",enShift:"$"},{id:"5",code:"Digit5",ru:"5",en:"5",ruShift:"%",enShift:"%"},{id:"6",code:"Digit6",ru:"6",en:"6",ruShift:":",enShift:"^"},{id:"7",code:"Digit7",ru:"7",en:"7",ruShift:"?",enShift:"&"},{id:"8",code:"Digit8",ru:"8",en:"8",ruShift:"*",enShift:"*"},{id:"9",code:"Digit9",ru:"9",en:"9",ruShift:"(",enShift:"("},{id:"0",code:"Digit0",ru:"0",en:"0",ruShift:")",enShift:")"},{id:"-",code:"Minus",ru:"-",en:"-",ruShift:"_",enShift:"_"},{id:"=",code:"Equal",ru:"=",en:"=",ruShift:"+",enShift:"+"},{id:"Backspace",code:"Backspace",ru:"backspace",en:"backspace",ruShift:"backspace",enShift:"backspace"},{id:"tab",code:"Tab",ru:"↹",en:"↹",ruShift:"↹",enShift:"↹"},{id:"q",code:"KeyQ",ru:"й",en:"q",ruShift:"Й",enShift:"Q"},{id:"w",code:"KeyW",ru:"ц",en:"w",ruShift:"Ц",enShift:"W"},{id:"e",code:"KeyE",ru:"у",en:"e",ruShift:"У",enShift:"E"},{id:"r",code:"KeyR",ru:"к",en:"r",ruShift:"К",enShift:"R"},{id:"t",code:"KeyT",ru:"е",en:"t",ruShift:"Е",enShift:"T"},{id:"y",code:"KeyY",ru:"н",en:"y",ruShift:"Н",enShift:"Y"},{id:"u",code:"KeyU",ru:"г",en:"u",ruShift:"Г",enShift:"U"},{id:"i",code:"KeyI",ru:"ш",en:"i",ruShift:"Ш",enShift:"I"},{id:"o",code:"KeyO",ru:"щ",en:"o",ruShift:"Щ",enShift:"O"},{id:"p",code:"KeyP",ru:"з",en:"p",ruShift:"З",enShift:"P"},{id:"[",code:"BracketLeft",ru:"х",en:"[",ruShift:"Х",enShift:"{"},{id:"]",code:"BracketRight",ru:"ъ",en:"]",ruShift:"Ъ",enShift:"}"},{id:"|",code:"Backslash",ru:"&#92",en:"&#92",ruShift:"/",enShift:"|"},{id:"capslock",code:"CapsLock",ru:"capslock",en:"capslock",ruShift:"capslock",enShift:"capslock"},{id:"a",code:"KeyA",ru:"ф",en:"a",ruShift:"Ф",enShift:"A"},{id:"s",code:"KeyS",ru:"ы",en:"s",ruShift:"Ы",enShift:"S"},{id:"d",code:"KeyD",ru:"в",en:"d",ruShift:"В",enShift:"D"},{id:"f",code:"KeyF",ru:"а",en:"f",ruShift:"А",enShift:"F"},{id:"g",code:"KeyG",ru:"п",en:"g",ruShift:"П",enShift:"G"},{id:"h",code:"KeyH",ru:"р",en:"h",ruShift:"Р",enShift:"H"},{id:"j",code:"KeyJ",ru:"о",en:"j",ruShift:"О",enShift:"J"},{id:"k",code:"KeyK",ru:"л",en:"k",ruShift:"Л",enShift:"K"},{id:"l",code:"KeyL",ru:"д",en:"l",ruShift:"Д",enShift:"L"},{id:";",code:"Semicolon",ru:"ж",en:";",ruShift:"Ж",enShift:":"},{id:"'",code:"Quote",ru:"э",en:"'",ruShift:"Э",enShift:"&#34"},{id:"enter",code:"Enter",ru:"enter",en:"enter",ruShift:"enter",enShift:"enter"},{id:"ShiftLeft",code:"ShiftLeft",ru:"shift",en:"shift",ruShift:"shift",enShift:"shift"},{id:"z",code:"KeyZ",ru:"я",en:"z",ruShift:"Я",enShift:"Z"},{id:"x",code:"KeyX",ru:"ч",en:"x",ruShift:"Ч",enShift:"X"},{id:"c",code:"KeyC",ru:"с",en:"c",ruShift:"С",enShift:"C"},{id:"v",code:"KeyV",ru:"м",en:"v",ruShift:"М",enShift:"V"},{id:"b",code:"KeyB",ru:"и",en:"b",ruShift:"И",enShift:"B"},{id:"n",code:"KeyN",ru:"т",en:"n",ruShift:"Т",enShift:"N"},{id:"m",code:"KeyM",ru:"ь",en:"m",ruShift:"Ь",enShift:"M"},{id:",",code:"Comma",ru:"б",en:",",ruShift:"Б",enShift:"<"},{id:".",code:"Period",ru:"ю",en:".",ruShift:"Ю",enShift:">"},{id:"/",code:"Slash",ru:".",en:"/",ruShift:",",enShift:"?"},{id:"↑ ",code:"ArrowUp",ru:"↑",en:"↑",ruShift:"↑",enShift:"↑"},{id:"ShiftRight",code:"ShiftRight",ru:"shift",en:"shift",ruShift:"shift",enShift:"shift"},{id:"ControlLeft",code:"ControlLeft",ru:"ctrl",en:"ctrl",ruShift:"ctrl",enShift:"ctrl"},{id:"win",code:"win",ru:"win",en:"win",ruShift:"win",enShift:"win"},{id:"leftAlt",code:"AltLeft",ru:"alt",en:"alt",ruShift:"alt",enShift:"alt"},{id:"space",code:"Space",ru:"space",en:"space",ruShift:"space",enShift:"space"},{id:"rightAlt",code:"AltRight",ru:"alt",en:"alt",ruShift:"alt",enShift:"alt"},{id:"ControlRight",code:"ControlRight",ru:"ctrl",en:"ctrl",ruShift:"ctrl",enShift:"ctrl"},{id:"← ",code:"ArrowLeft",ru:"←",en:"←",ruShift:"←",enShift:"←"},{id:"↓ ",code:"ArrowDown",ru:"↓",en:"↓",ruShift:"↓",enShift:"↓"},{id:"→ ",code:"ArrowRight",ru:"→",en:"→",ruShift:"→",enShift:"→"}];const o={language:"en",uppercase:!1,keyboardType(){return`${this.language}${!0===this.uppercase||"true"===this.uppercase?"Shift":""}`},changeLanguage(){"en"===this.language?this.language="ru":this.language="en"},changeUppercase(){!0===this.uppercase||"true"===this.uppercase?this.uppercase=!1:this.uppercase=!0},renderState(e){document.getElementById(e).innerHTML=`\n    <div class="keyboardState" id="keyboardState">\n    language:${o.language}, uppercase: ${o.uppercase}.<br>\n    Переключение -- ctrl + shift<br>\n    Специально сбрасываю alt, shift, ctrl, ибо не логично начинать с нажатыми\n    Клавиатура сохранит язык ввода (независимо от языка установленного в ОС)<br>\n    Клавиатура сохранит регистр при перезагрузке (для удобства CapsLock оставляю подсвеченным)<br></div>`,this.saveKeyboardType()},renderKeyboard(e=this.keyboardType()){const t=[];document.querySelectorAll(".pressed").forEach(e=>t.push(e.id)),r(e,d,"keyboard"),t.forEach(e=>{document.getElementById(e).classList.add("pressed")})},saveKeyboardType(){localStorage.setItem("language",this.language),localStorage.setItem("uppercase",this.uppercase)},loadKeyboardType(){this.language=localStorage.getItem("language")?localStorage.getItem("language"):this.language,this.uppercase=localStorage.getItem("uppercase")?localStorage.getItem("uppercase"):this.uppercase,r(this.keyboardType(),d,"keyboard"),"true"===this.uppercase&&document.getElementById("capslock").classList.add("pressed")}};var c=o;function s(e){const t=document.getElementById(e);t.classList.contains("pressed")?t.classList.remove("pressed"):t.classList.add("pressed")}function a(){c.changeUppercase(),c.renderState("keyboardState")}function u(){c.changeLanguage(),c.renderState("keyboardState")}var f=function(){document.getElementById("keyboard").addEventListener("click",e=>{const{id:t,classList:n}=e.target,i="enter"===t,r="Backspace"===t,d="tab"===t,o="space"===t,c="win"===t,s="↑ "===t||"← "===t||"↓ "===t||"→ "===t;(1===t.length||i||r||d||o||c||s)&&(n.add("pressed"),setTimeout(()=>{n.remove("pressed")},500))}),document.getElementById("keyboard").addEventListener("click",e=>{1===e.target.id.length&&(document.getElementById("textarea").value+=e.target.innerText)}),function(){const e=document.getElementById("textarea");document.getElementById("keyboard").addEventListener("click",t=>{const{id:n}=t.target;if("space"===n&&(e.value+=" "),"enter"===n&&(e.value+="\n"),"Backspace"===n&&(e.value=e.value.slice(0,e.value.length-1)),"tab"===n&&(e.value+="\t"),"win"===n&&(e.value+="Что должно произойти?"),"capslock"===n&&(s(n),a(),c.renderKeyboard()),"ShiftLeft"===n){const e=document.getElementById("ShiftRight").classList.contains("pressed"),t=document.getElementById("ControlLeft").classList.contains("pressed"),i=document.getElementById("ControlRight").classList.contains("pressed");if(s(n),e)return void s("ShiftRight");if(t)return u(),s(n),s("ControlLeft"),void c.renderKeyboard();if(i)return u(),s(n),s("ControlRight"),void c.renderKeyboard();a(),c.renderKeyboard()}if("ShiftRight"===n){const e=document.getElementById("ShiftLeft").classList.contains("pressed"),t=document.getElementById("ControlLeft").classList.contains("pressed"),i=document.getElementById("ControlRight").classList.contains("pressed");if(s(n),e)return void s("ShiftLeft");if(t)return u(),s(n),s("ControlLeft"),void c.renderKeyboard();if(i)return u(),s(n),s("ControlRight"),void c.renderKeyboard();a(),c.renderKeyboard()}if("ControlLeft"===n){const e=document.getElementById("ControlRight").classList.contains("pressed"),t=document.getElementById("ShiftLeft").classList.contains("pressed"),i=document.getElementById("ShiftRight").classList.contains("pressed");s(n),e&&s("ControlRight"),t&&(u(),a(),s(n),s("ShiftLeft"),c.renderKeyboard()),i&&(u(),a(),s(n),s("ShiftRight"),c.renderKeyboard())}if("ControlRight"===n){const e=document.getElementById("ControlLeft").classList.contains("pressed"),t=document.getElementById("ShiftLeft").classList.contains("pressed"),i=document.getElementById("ShiftRight").classList.contains("pressed");s(n),e&&s("ControlLeft"),t&&(u(),u(),s(n),s("ShiftLeft"),c.renderKeyboard()),i&&(u(),u(),s(n),s("ShiftRight"),c.renderKeyboard())}if("leftAlt"===n){const e=document.getElementById("rightAlt").classList.contains("pressed");s(n),e&&s("rightAlt")}if("rightAlt"===n){const e=document.getElementById("leftAlt").classList.contains("pressed");s(n),e&&s("lefttAlt")}})}()};function l(e){const t=document.getElementById(e);t.classList.contains("pressed")?t.classList.remove("pressed"):t.classList.add("pressed")}function h(){c.changeUppercase(),c.renderState("keyboardState")}function S(){c.changeLanguage(),c.renderState("keyboardState")}var g=function(){document.addEventListener("keydown",e=>{const{id:t}=d.find(t=>t.code===e.code);!function(e){const t=document.getElementById(e),n="enter"===e,i="Backspace"===e,r="tab"===e,d="space"===e,o="win"===e,c="↑ "===e||"← "===e||"↓ "===e||"→ "===e;(1===e.length||n||i||r||d||o||c)&&(t.classList.add("pressed"),setTimeout(()=>{t.classList.remove("pressed")},500))}(t),function(e){const t=document.getElementById("textarea");1===e.length&&(t.value+=document.getElementById(e).innerText),1===e.length&&document.getElementById("textarea")===document.activeElement&&(t.value=t.value.slice(0,t.value.length-1))}(t),function(e){const t=document.getElementById("textarea");if("space"===e&&(t.value+=" "),"enter"===e&&(t.value+="\n"),"Backspace"===e){if(document.getElementById("textarea")===document.activeElement)return;t.value=t.value.slice(0,t.value.length-1)}if("tab"===e&&(t.value+="\t"),"win"===e&&(t.value+="Что должно произойти?"),"capslock"===e&&(l(e),h(),c.renderKeyboard()),"ShiftLeft"===e){const t=document.getElementById("ShiftRight").classList.contains("pressed"),n=document.getElementById("ControlLeft").classList.contains("pressed"),i=document.getElementById("ControlRight").classList.contains("pressed");if(l(e),t)return void l("ShiftRight");if(n)return S(),l(e),l("ControlLeft"),void c.renderKeyboard();if(i)return S(),l(e),l("ControlRight"),void c.renderKeyboard();h(),c.renderKeyboard()}if("ShiftRight"===e){const t=document.getElementById("ShiftLeft").classList.contains("pressed"),n=document.getElementById("ControlLeft").classList.contains("pressed"),i=document.getElementById("ControlRight").classList.contains("pressed");if(l(e),t)return void l("ShiftLeft");if(n)return S(),l(e),l("ControlLeft"),void c.renderKeyboard();if(i)return S(),l(e),l("ControlRight"),void c.renderKeyboard();h(),c.renderKeyboard()}if("ControlLeft"===e){const t=document.getElementById("ControlRight").classList.contains("pressed"),n=document.getElementById("ShiftLeft").classList.contains("pressed"),i=document.getElementById("ShiftRight").classList.contains("pressed");l(e),t&&l("ControlRight"),n&&(S(),h(),l(e),l("ShiftLeft"),c.renderKeyboard()),i&&(S(),h(),l(e),l("ShiftRight"),c.renderKeyboard())}if("ControlRight"===e){const t=document.getElementById("ControlLeft").classList.contains("pressed"),n=document.getElementById("ShiftLeft").classList.contains("pressed"),i=document.getElementById("ShiftRight").classList.contains("pressed");l(e),t&&l("ControlLeft"),n&&(S(),S(),l(e),l("ShiftLeft"),c.renderKeyboard()),i&&(S(),S(),l(e),l("ShiftRight"),c.renderKeyboard())}if("leftAlt"===e){const t=document.getElementById("rightAlt").classList.contains("pressed");l(e),t&&l("rightAlt")}if("rightAlt"===e){const t=document.getElementById("leftAlt").classList.contains("pressed");l(e),t&&l("lefttAlt")}}(t)})};document.body.innerHTML=`\n  <div id="input--field" class="input--field">\n    <div class="keyboardState" id="keyboardState">language:${c.language}, uppercase: ${c.uppercase}. Переключение -- ctrl + shift</div>\n    <textarea class="textarea" id="textarea"></textarea>\n  </div>\n  <div id="keyboard" class="keyboard"></div>\n  ${document.body.innerHTML}`,i(),c.loadKeyboardType(),console.log(c.keyboardType()),c.renderState("keyboardState"),c.renderKeyboard(),f(),g()}]);
//# sourceMappingURL=app.bundle.js.map